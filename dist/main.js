(()=>{"use strict";const e=e=>{const t=e.getFullYear(),n=["Junuary","February","March","April","May","Jun","July","August","September","October","November","December"][e.getMonth()];return`${e.getDate()} ${n} (${["Sunday","Monday","Thuesday","Wednesday","Thursday","Friday","Saturday"][e.getDay()]}), ${t}`},t=e=>1.8*e+32,n=n=>{document.querySelector("#city").innerText=`${n.name}, ${n.sys.country}`,document.querySelector("#temp").innerHTML=`${Math.round(n.main.temp)}&deg;C`,document.querySelector("#min-max").innerHTML=`${Math.floor(n.main.temp_min)}&deg;C (min) / ${Math.ceil(n.main.temp_max)}&deg;C (max)`;const r=document.querySelector("#description");r.innerText=`${n.weather[0].main}`;const a=document.querySelector("#icon");a.innerText=`${n.weather[0].icon}`;const c=document.querySelector("#date"),o=new Date;c.innerText=e(o),(e=>{const n=t(e.main.temp),r=t(e.main.temp_min),a=t(e.main.temp_max),c=document.querySelector("#temp"),o=document.querySelector("#min-max"),i=document.querySelector("#cToggle");i.addEventListener("click",(()=>{i.checked?(c.innerHTML=`${Math.floor(n)}&deg;F`,o.innerHTML=`${Math.floor(r)}&deg;F (min) / ${Math.floor(a)}&deg;F (max)`):(c.innerHTML=`${Math.round(e.main.temp)}&deg;C`,o.innerHTML=`${Math.floor(e.main.temp_min)}&deg;C (min) / ${Math.ceil(e.main.temp_max)}&deg;C (max)`)}))})(n),document.body.style.backgroundImage=`url('./images/${{Clear:"sun",Clouds:"cloudy",Rain:"rain",Mist:"fog",Fog:"fog",Snow:"snow",Thunderstorms:"thunder",Drizzle:"thunder",Haze:"fog"}[r.textContent]}.gif')`,document.querySelector("#icon").src=`./icons/${a.textContent}.png`},r="2ac2a201f9a298fd6ce2b569bf302448",a=document.querySelector("#error");a.innerHTML="";const c=async e=>{try{const t=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${e}&appid=${r}&units=metric`),a=await t.json();n(a)}catch(e){a.innerHTML=`this ${e}`}},o=async t=>{try{const n=await fetch(`https://api.openweathermap.org/data/2.5/forecast?q=${t}&appid=${r}&units=metric`);(t=>{for(let n=1;n<=5;n++){const r=new Date(1e3*t.list[8*n-1].dt),a=new Date(1e3*t.city.sunrise),c=new Date(1e3*t.city.sunset);document.querySelector(`#day${n}`).innerHTML=`\n      <div class="forecast-card">\n        <div class="forecast-date">${e(r)}</div>\n        <div class="forecast-temp">${Math.round(t.list[8*n-1].main.temp)}&deg;C</div>\n        <div class="forecast-description">${t.list[8*n-1].weather[0].main}</div>\n        <div class="forecast-wind">Wind: ${t.list[8*n-1].wind.speed} m/s</div>\n        <div class="forecast-sunrise">Sunrise: ${a.getHours()}:${a.getMinutes()}</div>\n        <div class="forecast-sunset">Sunset: ${c.getHours()}:${c.getMinutes()}</div>\n        <img src="./icons/${t.list[8*n-1].weather[0].icon}.png" alt="Weather icon">\n      </div>\n    `}})(await n.json())}catch(e){a.innerHTML=`this ${e}`}},i=document.querySelector("#input-box"),s=document.querySelector("#nav-search-box"),d=document.querySelector("#nav-search-btn"),u=document.querySelector("#input-search-btn");d.addEventListener("click",(()=>{c(s.value),o(s.value),document.querySelector(".weather").style.display="block"})),s.addEventListener("keypress",(e=>{13===e.keyCode&&(c(s.value),o(s.value),document.querySelector(".weather").style.display="block")})),u.addEventListener("click",(()=>{c(i.value),o(i.value),document.querySelector(".weather").style.display="block"})),i.addEventListener("keypress",(e=>{13===e.keyCode&&(c(i.value),o(i.value),document.querySelector(".weather").style.display="block")}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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NEMsSUFDYixLQUFsQkEsRUFBTUMsVUFDUjNCLEVBQVVvQixFQUFPSSxPQUNqQmhCLEVBQVlZLEVBQU9JLE9BQ25CcEUsU0FBU0MsY0FBYyxZQUFZNEIsTUFBTXdDLFFBQVUsYSIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYXRoZXIvLi9zcmMvZGF0ZS5qcyIsIndlYnBhY2s6Ly93ZWF0aGVyLy4vc3JjL3RlbXBlcmF0dXJlLmpzIiwid2VicGFjazovL3dlYXRoZXIvLi9zcmMvd2VhdGhlci5qcyIsIndlYnBhY2s6Ly93ZWF0aGVyLy4vc3JjL3RvZ2xlLmpzIiwid2VicGFjazovL3dlYXRoZXIvLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vd2VhdGhlci8uL3NyYy9mb3JlY2FzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmNvbnN0IGRhdGVNYW5hZ2UgPSAoZGF0ZUFyZykgPT4ge1xuICBjb25zdCBkYXlzID0gWydTdW5kYXknLCAnTW9uZGF5JywgJ1RodWVzZGF5JywgJ1dlZG5lc2RheScsICdUaHVyc2RheScsICdGcmlkYXknLCAnU2F0dXJkYXknXTtcblxuICBjb25zdCBtb250aHMgPSBbJ0p1bnVhcnknLCAnRmVicnVhcnknLCAnTWFyY2gnLCAnQXByaWwnLCAnTWF5JywgJ0p1bicsICdKdWx5JywgJ0F1Z3VzdCcsICdTZXB0ZW1iZXInLCAnT2N0b2JlcicsICdOb3ZlbWJlcicsICdEZWNlbWJlciddO1xuXG4gIGNvbnN0IHllYXIgPSBkYXRlQXJnLmdldEZ1bGxZZWFyKCk7XG4gIGNvbnN0IG1vbnRoID0gbW9udGhzW2RhdGVBcmcuZ2V0TW9udGgoKV07XG4gIGNvbnN0IGRhdGUgPSBkYXRlQXJnLmdldERhdGUoKTtcbiAgY29uc3QgZGF5ID0gZGF5c1tkYXRlQXJnLmdldERheSgpXTtcblxuICByZXR1cm4gYCR7ZGF0ZX0gJHttb250aH0gKCR7ZGF5fSksICR7eWVhcn1gO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZGF0ZU1hbmFnZTtcbiIsIlxuY29uc3QgdGVtcFRvRiA9ICh0ZW1wKSA9PiB0ZW1wICogKDkgLyA1KSArIDMyO1xuXG5leHBvcnQgZGVmYXVsdCB0ZW1wVG9GOyIsImltcG9ydCBkYXRlTWFuYWdlIGZyb20gJy4vZGF0ZSc7XG5pbXBvcnQgY29udmVydFRlbXAgZnJvbSAnLi90b2dsZSc7XG5cbmNvbnN0IHNob3dXZWF0aGVyUmVwb3J0ID0gKHdlYXRoZXIpID0+IHtcbiAgY29uc3QgY2l0eSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjaXR5Jyk7XG4gIGNpdHkuaW5uZXJUZXh0ID0gYCR7d2VhdGhlci5uYW1lfSwgJHt3ZWF0aGVyLnN5cy5jb3VudHJ5fWA7XG5cbiAgY29uc3QgdGVtcGVyYXR1cmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdGVtcCcpO1xuICB0ZW1wZXJhdHVyZS5pbm5lckhUTUwgPSBgJHtNYXRoLnJvdW5kKHdlYXRoZXIubWFpbi50ZW1wKX0mZGVnO0NgO1xuXG4gIGNvbnN0IG1pbk1heCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNtaW4tbWF4Jyk7XG4gIG1pbk1heC5pbm5lckhUTUwgPSBgJHtNYXRoLmZsb29yKHdlYXRoZXIubWFpbi50ZW1wX21pbil9JmRlZztDIChtaW4pIC8gJHtNYXRoLmNlaWwod2VhdGhlci5tYWluLnRlbXBfbWF4KX0mZGVnO0MgKG1heClgO1xuXG4gIGNvbnN0IHdlYXRoZXJUeXBlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Rlc2NyaXB0aW9uJyk7XG4gIHdlYXRoZXJUeXBlLmlubmVyVGV4dCA9IGAke3dlYXRoZXIud2VhdGhlclswXS5tYWlufWA7XG5cbiAgY29uc3Qgd2VhdGhlckljb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaWNvbicpO1xuICB3ZWF0aGVySWNvbi5pbm5lclRleHQgPSBgJHt3ZWF0aGVyLndlYXRoZXJbMF0uaWNvbn1gO1xuXG4gIGNvbnN0IGRhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZGF0ZScpO1xuICBjb25zdCBuZXdEYXRlID0gbmV3IERhdGUoKTtcbiAgZGF0ZS5pbm5lclRleHQgPSBkYXRlTWFuYWdlKG5ld0RhdGUpO1xuICBjb252ZXJ0VGVtcCh3ZWF0aGVyKTtcblxuICBjb25zdCB3ZWF0aGVyVHlwZXMgPSB7XG4gICAgQ2xlYXI6ICdzdW4nLFxuICAgIENsb3VkczogJ2Nsb3VkeScsXG4gICAgUmFpbjogJ3JhaW4nLFxuICAgIE1pc3Q6ICdmb2cnLFxuICAgIEZvZzogJ2ZvZycsXG4gICAgU25vdzogJ3Nub3cnLFxuICAgIFRodW5kZXJzdG9ybXM6ICd0aHVuZGVyJyxcbiAgICBEcml6emxlOiAndGh1bmRlcicsXG4gICAgSGF6ZTogJ2ZvZycsXG4gIH07XG5cbiAgZG9jdW1lbnQuYm9keS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBgdXJsKCcuL2ltYWdlcy8ke3dlYXRoZXJUeXBlc1t3ZWF0aGVyVHlwZS50ZXh0Q29udGVudF19LmdpZicpYDtcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaWNvbicpLnNyYyA9IGAuL2ljb25zLyR7d2VhdGhlckljb24udGV4dENvbnRlbnR9LnBuZ2A7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBzaG93V2VhdGhlclJlcG9ydDsiLCJpbXBvcnQgdGVtcFRvRiBmcm9tICcuL3RlbXBlcmF0dXJlJztcblxuY29uc3QgY29udmVydFRlbXAgPSAod2VhdGhlcikgPT4ge1xuICBjb25zdCBjdXJyZW50VGVtcEYgPSB0ZW1wVG9GKHdlYXRoZXIubWFpbi50ZW1wKTtcblxuICBjb25zdCBtaW5UZW1wID0gdGVtcFRvRih3ZWF0aGVyLm1haW4udGVtcF9taW4pO1xuICBjb25zdCBtYXhUZW1wID0gdGVtcFRvRih3ZWF0aGVyLm1haW4udGVtcF9tYXgpO1xuICBjb25zdCBzdGFuZGFyVGVtcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0ZW1wJyk7XG4gIGNvbnN0IG1pbk1heCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNtaW4tbWF4Jyk7XG4gIGNvbnN0IG15VG9nZ2xlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NUb2dnbGUnKTtcblxuICBteVRvZ2dsZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBpZiAobXlUb2dnbGUuY2hlY2tlZCkge1xuICAgICAgc3RhbmRhclRlbXAuaW5uZXJIVE1MID0gYCR7TWF0aC5mbG9vcihjdXJyZW50VGVtcEYpfSZkZWc7RmA7XG4gICAgICBtaW5NYXguaW5uZXJIVE1MID0gYCR7TWF0aC5mbG9vcihtaW5UZW1wKX0mZGVnO0YgKG1pbikgLyAke01hdGguZmxvb3IobWF4VGVtcCl9JmRlZztGIChtYXgpYDtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RhbmRhclRlbXAuaW5uZXJIVE1MID0gYCR7TWF0aC5yb3VuZCh3ZWF0aGVyLm1haW4udGVtcCl9JmRlZztDYDtcbiAgICAgIG1pbk1heC5pbm5lckhUTUwgPSBgJHtNYXRoLmZsb29yKHdlYXRoZXIubWFpbi50ZW1wX21pbil9JmRlZztDIChtaW4pIC8gJHtNYXRoLmNlaWwod2VhdGhlci5tYWluLnRlbXBfbWF4KX0mZGVnO0MgKG1heClgO1xuICAgIH1cbiAgfSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBjb252ZXJ0VGVtcDsiLCJpbXBvcnQgc2hvd1dlYXRoZXJSZXBvcnQgZnJvbSAnLi93ZWF0aGVyJztcbmltcG9ydCBzaG93Rm9yZWNhc3RSZXBvcnQgZnJvbSAnLi9mb3JlY2FzdCc7XG5cbmNvbnN0IHdlYXRoZXJBcGkgPSB7XG4gIGtleTogJzJhYzJhMjAxZjlhMjk4ZmQ2Y2UyYjU2OWJmMzAyNDQ4Jyxcbn07XG5cbmNvbnN0IG1lc3NhZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZXJyb3InKTtcbm1lc3NhZ2UuaW5uZXJIVE1MID0gJyc7XG5cbmNvbnN0IGdldFJlcG9ydCA9IGFzeW5jIChjaXR5KSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgIGBodHRwczovL2FwaS5vcGVud2VhdGhlcm1hcC5vcmcvZGF0YS8yLjUvd2VhdGhlcj9xPSR7Y2l0eX0mYXBwaWQ9JHt3ZWF0aGVyQXBpLmtleX0mdW5pdHM9bWV0cmljYCxcbiAgICApO1xuXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIGNvbnN0IHdlYXRoZXIgPSByZXN1bHQ7XG4gICAgc2hvd1dlYXRoZXJSZXBvcnQod2VhdGhlcik7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgbWVzc2FnZS5pbm5lckhUTUwgPSBgdGhpcyAke2Vycm9yfWA7XG4gIH1cbn07XG5cbmNvbnN0IGdldEZvcmVjYXN0ID0gYXN5bmMgKGNpdHkpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgYGh0dHBzOi8vYXBpLm9wZW53ZWF0aGVybWFwLm9yZy9kYXRhLzIuNS9mb3JlY2FzdD9xPSR7Y2l0eX0mYXBwaWQ9JHt3ZWF0aGVyQXBpLmtleX0mdW5pdHM9bWV0cmljYCxcbiAgICApO1xuXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIGNvbnN0IGZvcmVjYXN0ID0gcmVzdWx0O1xuICAgIHNob3dGb3JlY2FzdFJlcG9ydChmb3JlY2FzdCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgbWVzc2FnZS5pbm5lckhUTUwgPSBgdGhpcyAke2Vycm9yfWA7XG4gIH1cbn07XG5cblxuY29uc3Qgc2VhcmNoID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2lucHV0LWJveCcpO1xuY29uc3QgbmF2U2VhcmNoID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI25hdi1zZWFyY2gtYm94Jyk7XG5jb25zdCBuYXZTZWFyY2hCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbmF2LXNlYXJjaC1idG4nKTtcbmNvbnN0IGlucHV0U2VhcmNoQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2lucHV0LXNlYXJjaC1idG4nKTtcblxubmF2U2VhcmNoQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBnZXRSZXBvcnQobmF2U2VhcmNoLnZhbHVlKTtcbiAgZ2V0Rm9yZWNhc3QobmF2U2VhcmNoLnZhbHVlKTtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLndlYXRoZXInKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbn0pO1xuXG5uYXZTZWFyY2guYWRkRXZlbnRMaXN0ZW5lcigna2V5cHJlc3MnLCAoZXZlbnQpID0+IHtcbiAgaWYgKGV2ZW50LmtleUNvZGUgPT09IDEzKSB7XG4gICAgZ2V0UmVwb3J0KG5hdlNlYXJjaC52YWx1ZSk7XG4gICAgZ2V0Rm9yZWNhc3QobmF2U2VhcmNoLnZhbHVlKTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcud2VhdGhlcicpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICB9XG59KTtcblxuaW5wdXRTZWFyY2hCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIGdldFJlcG9ydChzZWFyY2gudmFsdWUpO1xuICBnZXRGb3JlY2FzdChzZWFyY2gudmFsdWUpO1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcud2VhdGhlcicpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xufSk7XG5cbnNlYXJjaC5hZGRFdmVudExpc3RlbmVyKCdrZXlwcmVzcycsIChldmVudCkgPT4ge1xuICBpZiAoZXZlbnQua2V5Q29kZSA9PT0gMTMpIHtcbiAgICBnZXRSZXBvcnQoc2VhcmNoLnZhbHVlKTtcbiAgICBnZXRGb3JlY2FzdChzZWFyY2gudmFsdWUpO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy53ZWF0aGVyJykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gIH1cbn0pO1xuIiwiaW1wb3J0IGRhdGVNYW5hZ2UgZnJvbSAnLi9kYXRlJztcblxuY29uc3Qgc2hvd0ZvcmVjYXN0UmVwb3J0ID0gKGZvcmVjYXN0KSA9PiB7XG4gIGZvciAobGV0IGkgPSAxOyBpIDw9IDU7IGkrKykge1xuICAgIGNvbnN0IGZvcmVjYXN0RGF0ZSA9IG5ldyBEYXRlKGZvcmVjYXN0Lmxpc3RbaSAqIDggLSAxXS5kdCAqIDEwMDApO1xuICAgIGNvbnN0IHN1bnJpc2UgPSBuZXcgRGF0ZShmb3JlY2FzdC5jaXR5LnN1bnJpc2UgKiAxMDAwKTtcbiAgICBjb25zdCBzdW5zZXQgPSBuZXcgRGF0ZShmb3JlY2FzdC5jaXR5LnN1bnNldCAqIDEwMDApO1xuICAgIGNvbnN0IGZvcmVjYXN0RGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI2RheSR7aX1gKTtcbiAgICBmb3JlY2FzdERheS5pbm5lckhUTUwgPSBgXG4gICAgICA8ZGl2IGNsYXNzPVwiZm9yZWNhc3QtY2FyZFwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZm9yZWNhc3QtZGF0ZVwiPiR7ZGF0ZU1hbmFnZShmb3JlY2FzdERhdGUpfTwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZm9yZWNhc3QtdGVtcFwiPiR7TWF0aC5yb3VuZChmb3JlY2FzdC5saXN0W2kgKiA4IC0gMV0ubWFpbi50ZW1wKX0mZGVnO0M8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImZvcmVjYXN0LWRlc2NyaXB0aW9uXCI+JHtmb3JlY2FzdC5saXN0W2kgKiA4IC0gMV0ud2VhdGhlclswXS5tYWlufTwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZm9yZWNhc3Qtd2luZFwiPldpbmQ6ICR7Zm9yZWNhc3QubGlzdFtpICogOCAtIDFdLndpbmQuc3BlZWR9IG0vczwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZm9yZWNhc3Qtc3VucmlzZVwiPlN1bnJpc2U6ICR7c3VucmlzZS5nZXRIb3VycygpfToke3N1bnJpc2UuZ2V0TWludXRlcygpfTwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZm9yZWNhc3Qtc3Vuc2V0XCI+U3Vuc2V0OiAke3N1bnNldC5nZXRIb3VycygpfToke3N1bnNldC5nZXRNaW51dGVzKCl9PC9kaXY+XG4gICAgICAgIDxpbWcgc3JjPVwiLi9pY29ucy8ke2ZvcmVjYXN0Lmxpc3RbaSAqIDggLSAxXS53ZWF0aGVyWzBdLmljb259LnBuZ1wiIGFsdD1cIldlYXRoZXIgaWNvblwiPlxuICAgICAgPC9kaXY+XG4gICAgYDtcbiAgfVxufTtcblxuXG5cbmV4cG9ydCBkZWZhdWx0IHNob3dGb3JlY2FzdFJlcG9ydDtcbiJdLCJuYW1lcyI6WyJkYXRlQXJnIiwieWVhciIsImdldEZ1bGxZZWFyIiwibW9udGgiLCJnZXRNb250aCIsImdldERhdGUiLCJnZXREYXkiLCJ0ZW1wIiwid2VhdGhlciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImlubmVyVGV4dCIsIm5hbWUiLCJzeXMiLCJjb3VudHJ5IiwiaW5uZXJIVE1MIiwiTWF0aCIsInJvdW5kIiwibWFpbiIsImZsb29yIiwidGVtcF9taW4iLCJjZWlsIiwidGVtcF9tYXgiLCJ3ZWF0aGVyVHlwZSIsIndlYXRoZXJJY29uIiwiaWNvbiIsImRhdGUiLCJuZXdEYXRlIiwiRGF0ZSIsImN1cnJlbnRUZW1wRiIsIm1pblRlbXAiLCJtYXhUZW1wIiwic3RhbmRhclRlbXAiLCJtaW5NYXgiLCJteVRvZ2dsZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJjaGVja2VkIiwiYm9keSIsInN0eWxlIiwiYmFja2dyb3VuZEltYWdlIiwiQ2xlYXIiLCJDbG91ZHMiLCJSYWluIiwiTWlzdCIsIkZvZyIsIlNub3ciLCJUaHVuZGVyc3Rvcm1zIiwiRHJpenpsZSIsIkhhemUiLCJ0ZXh0Q29udGVudCIsInNyYyIsIndlYXRoZXJBcGkiLCJtZXNzYWdlIiwiZ2V0UmVwb3J0IiwiYXN5bmMiLCJjaXR5IiwicmVzcG9uc2UiLCJmZXRjaCIsInJlc3VsdCIsImpzb24iLCJlcnJvciIsImdldEZvcmVjYXN0IiwiZm9yZWNhc3QiLCJpIiwiZm9yZWNhc3REYXRlIiwibGlzdCIsImR0Iiwic3VucmlzZSIsInN1bnNldCIsIndpbmQiLCJzcGVlZCIsImdldEhvdXJzIiwiZ2V0TWludXRlcyIsInNlYXJjaCIsIm5hdlNlYXJjaCIsIm5hdlNlYXJjaEJ0biIsImlucHV0U2VhcmNoQnRuIiwidmFsdWUiLCJkaXNwbGF5IiwiZXZlbnQiLCJrZXlDb2RlIl0sInNvdXJjZVJvb3QiOiIifQ==